{"openapi":"3.0.1","info":{"title":"CONSUMER API","description":"CONSUMER API for OPEN DATA Aplication","contact":{"name":"Andoni Salcedo Navarro","url":"ansalna@alumni.uv.es","email":"ansalna@alumni.uv.es"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"v1"},"servers":[{"url":"http://localhost","description":"Production"}],"paths":{"/api/v1/consumer/files":{"get":{"tags":["consumer-controller"],"summary":"Get Files By Keyword","description":"Obtener listado ordenado de ficheros por palabra clave. Se buscarán solo ficheros con estado publicado, se indicará la palabra clave y se permitirá ordenar por fecha de creación (de más reciente a más antiguo, opción por defecto), por tamaño  (de más grande a más pequeño) o por número de descargas (de más a menos veces descargado). Se obtendrá el identificador del fichero, título, descripción,   nombre del productor, fecha de creación, formato, tamaño, número de previsualizaciones y de descargas. No se requerirá autenticación.","operationId":"getFilesByKeyword","parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string"}},{"name":"orderBy","in":"query","required":false,"schema":{"type":"string","default":"creationDate"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileDTO"}}}}}}}},"/api/v1/consumer/files/producers":{"get":{"tags":["consumer-controller"],"summary":"Get Files By Producer Name","description":"Obtener listado de ficheros por nombre de productor. Se buscarán solo ficheros con estado publicado, se indicará el nombre o razón social del productor. Se obtendrá el identificador del fichero, título, descripción, fecha de creación, formato, tamaño, número de previsualizaciones y de descargas. No se requerirá autenticación.","operationId":"getFilesByProducerName","parameters":[{"name":"producerName","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileDTO"}}}}}}}},"/api/v1/consumer/files/preview/{fileId}":{"get":{"tags":["consumer-controller"],"summary":"Get Files By Producer Name","description":"Obtener una previsualización de un fichero. Se proporcionará el identificador  de un fichero publicado y se obtendrán las primeras 10 observaciones del fichero. Se  incrementará el número de previsualizaciones del fichero. No se requerirá autenticación.","operationId":"previewFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/consumer/files/download/{fileId}":{"get":{"tags":["consumer-controller"],"summary":"Get Files By Producer Name","description":"Obtener un fichero completo. Se proporcionará el identificador de un fichero  publicado y se obtendrá todo el fichero. Se incrementará el número de descargas del fichero. No se requerirá autenticación","operationId":"downloadFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"FileDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"creationDate":{"type":"string","format":"date-time"},"state":{"type":"string"},"numViews":{"type":"integer","format":"int32"},"numDownloads":{"type":"integer","format":"int32"},"producer":{"$ref":"#/components/schemas/ProducerDTO"},"validator":{"$ref":"#/components/schemas/UserDTO"},"title":{"type":"string"},"description":{"type":"string"},"keyWords":{"type":"array","items":{"type":"string"}},"size":{"type":"integer","format":"int32"}}},"ProducerDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"state":{"type":"boolean"},"quota":{"type":"number","format":"double"},"nif":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"type":{"type":"string"}}},"UserDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"}}}}}}